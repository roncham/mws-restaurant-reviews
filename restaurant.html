<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <meta name="theme-color" content="#252831">
  <!-- Add Leaflet for MapBox map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
  <!-- Normalize.css for better cross-browser consistency -->
  <link rel="stylesheet" src="//cdnjs.cloudflare.com/ajax/libs/modern-normalize/0.4.0/modern-normalize.min.css" />
  <!-- Main CSS file -->
  <link rel="stylesheet" href="css/styles.css" type="text/css">
  <title>Restaurant Info</title>
</head>

<body onload = 'DBHelper.fetchAndCacheReviews()'>
  <!-- Beginning header -->
  <header>
    <h1><a href="/">Restaurant Reviews</a></h1>
    <!-- Beginning nav - to be added in later stage-->
    <!-- <nav>
    </nav> -->

    <!-- End nav -->
  </header>
  <!-- End header -->
  <!-- Beginning breadcrumb -->
  <div>
    <div>
      <a href="#restaurant-details" class="skip-link" >Skip Map, Go to Restaurant Details</a>
    </div>
    <ul aria-label="Breadcrumb" id="breadcrumb" >
      <li><a href="/">Home</a></li>
    </ul>
  </div> <!-- End breadcrumb -->

  <!-- Beginning main -->
  <main id="maincontent" class="inside">
    <!-- Beginning map -->
    <section id="map-container">
      <div id="map" role="application"></div>
    </section>
    <!-- End map -->

    <div id="restaurant-details" class="restaurant">
      <!-- Beginning restaurant -->
      <section id="restaurant-container" tabindex="0">
        <div id="details-header">
          <h1 id="restaurant-name" class="left"></h1>
         <button tabindex="0" id="fav" class="fav right" aria-label=""></button>
        </div>
      <figure>
        <img id="restaurant-img">
      </figure>
      <figcaption>
        <p id="restaurant-cuisine"></p>
        <h2 class="results">Address</h2>
        <p id="restaurant-address"></p>
        <h2 class="results">Hours</h2>
        <table id="restaurant-hours"></table>
      </figcaption>
      </section>
      <!-- end restaurant -->
      <!-- Beginning reviews -->
      <section id="reviews-container">
        <div>
          <ul id="reviews-list"></ul>
        </div>
      
        <!-- Trigger/Open The Add Review Modal -->
        <span id="modalBtn" aria-label='Add Review'>âœš Add Your Review</span>
        <!-- Add Review Modal -->
        <div id="myModal" class="modal">
          <!-- Modal content -->
          <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Please rate and comment</h2>
            <p>
              <form enctype="multipart/form-data" class='newReview' name='newReview' action = 'http://localhost:1337/reviews/' method='POST'>
                <input id='name' type='text' name='reviewer_name' aria-labelledby='namelabel' required aria-required='true' placeholder='Your name..' />
                <select  id='rating' name='rating' aria-labelledby='ratinglabel' required aria-required='true'>
                  <option value='1'>Rating 1</option>
                  <option value='2'>Rating 2</option>
                  <option value='3'>Rating 3</option>
                  <option value='4'>Rating 4</option>
                  <option value='5'>Rating 5</option>
                </select>
                <textarea  id='comment' type='textarea' name='comment_text' aria-label='Comment' required aria-required='true' placeholder='Write something..'></textarea>
                <input type='hidden' id='restaurant_id' name='restaurant_id' value='' />
              <button type='submit' class='button' value='Submit Review' name='addReview' >Submit Review</button>
              </form>
            </p>
          </div>
        </div> 

      </section>
      <!-- End reviews -->
    </div>


  </main>
  <!-- End main -->

  <!-- Beginning footer -->
  <footer id="footer">
    Copyright (c) 2018 <a href="/"><strong>Restaurant Reviews</strong></a> All Rights Reserved.
  </footer>
  <!-- End footer -->

  <!-- Beginning scripts -->
  <script src="js/idb.js"></script>
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
  <script src="js/lazysizes.min.js" async=""></script>
  <script src='config.js'></script>
  <script src="js/dbhelper.js"></script>
  <script src="js/addreviews.js"></script>
  <!-- Main javascript file -->
  <script src="js/restaurant_info.js"></script>
  <!-- End scripts -->

</body>

</html>
